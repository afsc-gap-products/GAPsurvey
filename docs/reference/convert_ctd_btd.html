<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert CTD data from .hex to BTD and BTH — convert_ctd_btd • GAPsurvey</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert CTD data from .hex to BTD and BTH — convert_ctd_btd"><meta name="description" content="This function converts a CTD  hexadecimal (.hex) file to bathythermic data (.btd) and bathythermic header files (.bth). If you are unable to convert your file, please contact sean.rohan@noaa.gov."><meta property="og:description" content="This function converts a CTD  hexadecimal (.hex) file to bathythermic data (.btd) and bathythermic header files (.bth). If you are unable to convert your file, please contact sean.rohan@noaa.gov."><meta property="og:image" content="https://afsc-gap-products.github.io/GAPsurvey/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">GAPsurvey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2024.04.05</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa far fa-file-code fa-lg"></span> Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-newspaper"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/example-script.html">Example got-to script</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/afsc-gap-products/GAPsurvey/releases"><span class="fa fas fa-bullhorn fa-lg"></span> Release Notes</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../mailto:nmfs.afsc.gap.metadata@noaa.gov" aria-label="email"><span class="fa fas fa-paper-plane fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/afsc-gap-products/GAPsurvey/issues/" aria-label="issues"><span class="fa fas fa-question-circle fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/afsc-gap-products/GAPsurvey" aria-label="github"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.fisheries.noaa.gov/alaska/science-data/groundfish-assessment-program-bottom-trawl-surveys" aria-label="homepage"><span class="fa fa-fish"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Convert CTD data from .hex to BTD and BTH</h1>
      <small class="dont-index">Source: <a href="https://github.com/afsc-gap-products/GAPsurvey/blob/HEAD/R/hex_to_cnv.R" class="external-link"><code>R/hex_to_cnv.R</code></a></small>
      <div class="d-none name"><code>convert_ctd_btd.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function converts a CTD  hexadecimal (.hex) file to bathythermic data (.btd) and bathythermic header files (.bth). If you are unable to convert your file, please contact sean.rohan@noaa.gov.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">convert_ctd_btd</span><span class="op">(</span></span>
<span>  <span class="va">filepath_hex</span>,</span>
<span>  dirpath_output <span class="op">=</span> <span class="st">"./"</span>,</span>
<span>  filepath_xmlcon <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  latitude <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  VESSEL <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  CRUISE <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  HAUL <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  MODEL_NUMBER <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  VERSION_NUMBER <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  SERIAL_NUMBER <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  instrument_timezone <span class="op">=</span> <span class="st">"America/Anchorage"</span>,</span>
<span>  filename_add <span class="op">=</span> <span class="st">"new"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-filepath-hex">filepath_hex<a class="anchor" aria-label="anchor" href="#arg-filepath-hex"></a></dt>
<dd><p>Required. Filepath to the SBE19plus hexadecimal (.hex) file from a single cast as a character vector (e.g. "C:/CTD/202301_162_L1/sbe19plus01908091_05_04_0001.hex")/.</p></dd>


<dt id="arg-dirpath-output">dirpath_output<a class="anchor" aria-label="anchor" href="#arg-dirpath-output"></a></dt>
<dd><p>Optional. The default is the local working directory but may be specified with a string.</p></dd>


<dt id="arg-filepath-xmlcon">filepath_xmlcon<a class="anchor" aria-label="anchor" href="#arg-filepath-xmlcon"></a></dt>
<dd><p>Required. Filepath to the instrument configuration file (.xmlcon) for the CTD (e.g. serial number 8091 would use the file with 8091 in the name ("C:/CTD/xmlcon configuration files/SBE19plusV2_8091.xmlcon").</p></dd>


<dt id="arg-latitude">latitude<a class="anchor" aria-label="anchor" href="#arg-latitude"></a></dt>
<dd><p>Required. Latitude in decimal degrees (approximate).</p></dd>


<dt id="arg-vessel">VESSEL<a class="anchor" aria-label="anchor" href="#arg-vessel"></a></dt>
<dd><p>Required. The vessel number (e.g., 94).</p></dd>


<dt id="arg-cruise">CRUISE<a class="anchor" aria-label="anchor" href="#arg-cruise"></a></dt>
<dd><p>Required. The cruise number (e.g., 201901).</p></dd>


<dt id="arg-haul">HAUL<a class="anchor" aria-label="anchor" href="#arg-haul"></a></dt>
<dd><p>Required. The haul number (e.g. 150).</p></dd>


<dt id="arg-model-number">MODEL_NUMBER<a class="anchor" aria-label="anchor" href="#arg-model-number"></a></dt>
<dd><p>Optional. The model number of the CTD .</p></dd>


<dt id="arg-version-number">VERSION_NUMBER<a class="anchor" aria-label="anchor" href="#arg-version-number"></a></dt>
<dd><p>Optional. The version number of the CTD.</p></dd>


<dt id="arg-serial-number">SERIAL_NUMBER<a class="anchor" aria-label="anchor" href="#arg-serial-number"></a></dt>
<dd><p>Optional. The serial number of the CTD.</p></dd>


<dt id="arg-instrument-timezone">instrument_timezone<a class="anchor" aria-label="anchor" href="#arg-instrument-timezone"></a></dt>
<dd><p>Time zone for the instrument data. Do not change unless the instrument is not setup for Alaska Time</p></dd>


<dt id="arg-filename-add">filename_add<a class="anchor" aria-label="anchor" href="#arg-filename-add"></a></dt>
<dd><p>Optional. Default = "new". This string will be added to BTD and BTH outputs. This can help prevent accidentally overwriting BTH and BTD files.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>.BTH and .BTD files to the dirpath_output directory.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>https://github.com/afsc-gap-products/gapctd</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># CTD without auxiliary sensors</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">convert_ctd_btd</span><span class="op">(</span></span></span>
<span class="r-in"><span> filepath_hex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"exdata/convert_ctd_btd/"</span>,</span></span>
<span class="r-in"><span>   <span class="st">"2021_06_13_0003.hex"</span><span class="op">)</span>, package <span class="op">=</span> <span class="st">"GAPsurvey"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> filepath_xmlcon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"exdata/convert_ctd_btd/"</span>,</span></span>
<span class="r-in"><span>   <span class="st">"19-8102_Deploy2021.xmlcon"</span><span class="op">)</span>, package <span class="op">=</span> <span class="st">"GAPsurvey"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> latitude <span class="op">=</span> <span class="fl">55</span>,</span></span>
<span class="r-in"><span> VESSEL <span class="op">=</span> <span class="fl">94</span>,</span></span>
<span class="r-in"><span> CRUISE <span class="op">=</span> <span class="fl">202101</span>,</span></span>
<span class="r-in"><span> HAUL <span class="op">=</span> <span class="fl">107</span>,</span></span>
<span class="r-in"><span> SERIAL_NUMBER <span class="op">=</span> <span class="fl">8105</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Type model number (optional):  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Type version number (optional):  </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> xmlcon_to_df: Skpping oxygen. Sensor calibration parameters not detected in xmlcon file.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> xmlcon_to_df: Skpping ph. Sensor calibration parameters not detected in xmlcon file.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> hex_to_cnv: 5 data channels detected (time_elapsed, temperature, pressure, conductivity, flag)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> hex_to_cnv: Writing data to cnv.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> convert_ctd_btd: Intermediate data file (.cnv) saved to C:/Users/emily.markowitz/Work/projects/GAPsurvey_general/GAPsurvey/docs/reference/2021_06_13_0003.cnv</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Baththermic data (.BTD) and header (.BTD) files written to: </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> .//HAUL0107_new.BTD</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> .//HAUL0107_new.BTH</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># CTD with DO and pH sensors</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">convert_ctd_btd</span><span class="op">(</span></span></span>
<span class="r-in"><span>  filepath_hex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"exdata/convert_ctd_btd/"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"SBE19plus_01908106_2023_06_18_0001.hex"</span><span class="op">)</span>, package <span class="op">=</span> <span class="st">"GAPsurvey"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  filepath_xmlcon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"exdata/convert_ctd_btd/"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"SBE19plusV2_8106_ph_DO_leg2.xmlcon"</span><span class="op">)</span>, package <span class="op">=</span> <span class="st">"GAPsurvey"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  VESSEL <span class="op">=</span> <span class="fl">162</span>,</span></span>
<span class="r-in"><span>  CRUISE <span class="op">=</span> <span class="fl">202301</span>,</span></span>
<span class="r-in"><span>  HAUL <span class="op">=</span> <span class="fl">97</span>,</span></span>
<span class="r-in"><span>  latitude <span class="op">=</span> <span class="fl">59.01693</span>,</span></span>
<span class="r-in"><span>  MODEL_NUMBER <span class="op">=</span> <span class="st">""</span>,</span></span>
<span class="r-in"><span>  VERSION_NUMBER <span class="op">=</span> <span class="st">""</span>,</span></span>
<span class="r-in"><span>  SERIAL_NUMBER <span class="op">=</span> <span class="fl">8106</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> hex_to_cnv: 7 data channels detected (time_elapsed, temperature, pressure, conductivity, oxygen_voltage, ph, flag)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> hex_to_cnv: Writing data to cnv.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> convert_ctd_btd: Intermediate data file (.cnv) saved to C:/Users/emily.markowitz/Work/projects/GAPsurvey_general/GAPsurvey/docs/reference/SBE19plus_01908106_2023_06_18_0001.cnv</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Baththermic data (.BTD) and header (.BTD) files written to: </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> .//HAUL0097_new.BTD</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> .//HAUL0097_new.BTH</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

<div class="pkgdown-footer-right">

</div>

    </footer></div>





  </body></html>

